<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Summarize pair of distributions with classification metric — summ_classmetric • pdqr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/united/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>
<meta property="og:title" content="Summarize pair of distributions with classification metric — summ_classmetric" />

<meta property="og:description" content="Compute metric of the following one-dimensional binary classification setup:
any x value not more than threshold value is classified as &quot;negative&quot;; if
strictly greater - &quot;positive&quot;. Classification metrics are computed based on
two pdqr-functions: f, which represents the distribution of values which
should be classified as &quot;negative&quot; (&quot;true negative&quot;), and g - the same
for &quot;positive&quot; (&quot;true positive&quot;)." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pdqr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/pdqr-01-create.html">Create pdqr-functions with `new_*()`</a>
    </li>
    <li>
      <a href="../articles/pdqr-02-convert.html">Convert pdqr-functions with `as_*()`</a>
    </li>
    <li>
      <a href="../articles/pdqr-03-transform.html">Transform pdqr-functions with `form_*()` and base operations</a>
    </li>
    <li>
      <a href="../articles/pdqr-04-summarize.html">Summarize pdqr-functions with `summ_*()`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/echasnovski/pdqr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Summarize pair of distributions with classification metric</h1>
    <small class="dont-index">Source: <a href='https://github.com/echasnovski/pdqr/blob/master/R/summ_classmetric.R'><code>R/summ_classmetric.R</code></a></small>
    <div class="hidden name"><code>summ_classmetric.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Compute metric of the following one-dimensional binary classification setup:
any <code>x</code> value not more than <code>threshold</code> value is classified as "negative"; if
strictly greater - "positive". Classification metrics are computed based on
two pdqr-functions: <code>f</code>, which represents the distribution of values which
<em>should be</em> classified as "negative" ("true negative"), and <code>g</code> - the same
for "positive" ("true positive").</p>
    
    </div>

    <pre class="usage"><code class = "r"><span class='fu'>summ_classmetric</span>(<span class='no'>f</span>, <span class='no'>g</span>, <span class='no'>threshold</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"F1"</span>)

<span class='fu'>summ_classmetric_df</span>(<span class='no'>f</span>, <span class='no'>g</span>, <span class='no'>threshold</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"F1"</span>)</code></pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>f</th>
      <td><p>A pdqr-function of any <a href='meta.html'>type</a> and
<a href='meta.html'>class</a>. Represents distribution of "true negative" values.</p></td>
    </tr>
    <tr>
      <th>g</th>
      <td><p>A pdqr-function of any type and class. Represents distribution of
"true positive" values.</p></td>
    </tr>
    <tr>
      <th>threshold</th>
      <td><p>A numeric vector of classification threshold(s).</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Method of classification metric (might be a vector for
<code>summ_classmetric_df()</code>). Should be one of "TPR", "TNR", "FPR", "FNR",
"PPV", "NPV", "FDR", "FOR", "LR+", "LR-", "Acc", "ER", "GM", "F1", "OP",
"MCC", "YI", "MK", "Jaccard", "DOR" (with possible aliases, see Details).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>summ_classmetric()</code> returns a numeric vector, of the same length as
<code>threshold</code>, representing classification metrics for different threshold
values.</p>
<p><code>summ_classmetric_df()</code> returns a data frame with rows corresponding to
<code>threshold</code> values. First column is "threshold" (with <code>threshold</code> values),
and all other represent classification metric for every input method (see
Examples).</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Binary classification setup used here to compute metrics is a
simplified version of the most common one, when there is a finite set of
already classified objects. Usually, there are <code>N</code> objects which are truly
"negative" and <code>P</code> truly "positive" ones. Values <code>N</code> and <code>P</code> can vary, which
often results in class imbalance. However, in current setup both <code>N</code> and
<code>P</code> are equal to 1 (total probability of <code>f</code> and <code>g</code>).</p>
<p>In common setup, classification of all <code>N + P</code> objects results into the
following values: "TP" (number of truly "positive" values classified as
"positive"), "TN" (number of negatives classified as "negative"), "FP"
(number of negatives falsely classified as "positive"), and "FN" (number of
positives falsely classified as "negative"). In current setup all those
values are equal to respective "rates" (because <code>N</code> and <code>P</code> are both equal to
1).</p>
<p>Both <code>summ_classmetric()</code> and <code>summ_classmetric_df()</code> allow aliases to some
classification metrics (for readability purposes).</p>
<p>Following classification metrics are available:</p><ul>
<li><p>Simple metrics:</p><ul>
<li><p><em>True positive rate</em>, <code>method</code> "TPR" (aliases: "TP", "sensitivity",
"recall"): proportion of actual positives correctly classified as such.
Computed as <code>1 - as_p(g)(threshold)</code>.</p></li>
<li><p><em>True negative rate</em>, <code>method</code> "TNR" (aliases: "TN", "specificity"):
proportion of actual negatives correctly classified as such. Computed as
<code>as_p(f)(threshold)</code>.</p></li>
<li><p><em>False positive rate</em>, <code>method</code> "FPR" (aliases: "FP", "fall-out"):
proportion of actual negatives falsely classified as "positive". Computed
as <code>1 - as_p(f)(threshold)</code>.</p></li>
<li><p><em>False negative rate</em>, <code>method</code> "FNR" (aliases: "FN", "miss_rate"):
proportion of actual positives falsely classified as "negative". Computed
as <code>as_p(g)(threshold)</code>.</p></li>
<li><p><em>Positive predictive value</em>, <code>method</code> "PPV" (alias: "precision"):
proportion of output positives that are actually "positive". Computed as
<code>TP / (TP + FP)</code>.</p></li>
<li><p><em>Negative predictive value</em>, <code>method</code> "NPV": proportion of output
negatives that are actually "negative". Computed as <code>TN / (TN + FN)</code>.</p></li>
<li><p><em>False discovery rate</em>, <code>method</code> "FDR": proportion of output positives
that are actually "negative". Computed as <code>FP / (TP + FP)</code>.</p></li>
<li><p><em>False omission rate</em>, <code>method</code> "FOR": proportion of output negatives
that are actually "positive". Computed as <code>FN / (TN + FN)</code>.</p></li>
<li><p><em>Positive likelihood</em>, <code>method</code> "LR+": measures how much the odds of
being "positive" increase when value is classified as "positive".
Computed as <code>TPR / (1 - TNR)</code>.</p></li>
<li><p><em>Negative likelihood</em>, <code>method</code> "LR-": measures how much the odds of
being "positive" decrease when value is classified as "negative".
Computed as <code>(1 - TPR) / TNR</code>.</p></li>
</ul></li>
<li><p>Combined metrics (for all, except "error rate", bigger value represents
better classification performance):</p><ul>
<li><p><em>Accuracy</em>, <code>method</code> "Acc" (alias: "accuracy"): proportion of total
number of input values that were correctly classified. Computed as <code>(TP +   TN) / 2</code> (here 2 is used because of special classification setup,
<code>TP + TN + FP + FN = 2</code>).</p></li>
<li><p><em>Error rate</em>, <code>method</code> "ER" (alias: "error_rate"): proportion of
total number of input values that were incorrectly classified. Computed
as <code>(FP + FN) / 2</code>.</p></li>
<li><p><em>Geometric mean</em>, <code>method</code> "GM": geometric mean of TPR and TNR.
Computed as <code><a href='https://rdrr.io/r/base/MathFun.html'>sqrt(TPR * TNR)</a></code>.</p></li>
<li><p><em>F1 score</em>, <code>method</code> "F1": harmonic mean of PPV and TPR. Computed as
<code>2*TP / (2*TP + FP + FN)</code>.</p></li>
<li><p><em>Optimized precision</em>, <code>method</code> "OP": accuracy, penalized for
imbalanced class performance. Computed as <code>Acc - abs(TPR - TNR) / (TPR +   TNR)</code>.</p></li>
<li><p><em>Matthews correlation coefficient</em>, <code>method</code> "MCC" (alias: "corr"):
correlation between the observed and predicted classifications. Computed
as <code>(TP*TN - FP*FN) / sqrt((TP+FP) * (TN+FN))</code> (here equalities <code>TP+FN =   1</code> and <code>TN+FP = 1</code> are used to simplify formula).</p></li>
<li><p><em>Youden’s index</em>, <code>method</code> "YI" (aliases: "youden", "informedness"):
evaluates the discriminative power of the classification setup. Computed
as <code>TPR + TNR - 1</code>.</p></li>
<li><p><em>Markedness</em>, <code>method</code> "MK" (alias: "markedness"): evaluates the
predictive power of the classification setup. Computed as <code>PPV + NPV -   1</code>.</p></li>
<li><p><em>Jaccard</em>, <code>method</code> "Jaccard": accuracy ignoring correct classification
of negatives. Computed as <code>TP / (TP + FP + FN)</code>.</p></li>
<li><p><em>Diagnostic odds ratio</em>, <code>method</code> "DOR" (alias: "odds_ratio"): ratio
between positive and negative likelihoods. Computed as <code>"LR+" / "LR-"</code>.</p></li>
</ul></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='summ_separation.html'>summ_separation</a> for computing optimal separation threshold (which
is symmetrical with respect to <code>f</code> and <code>g</code>).</p>
<p>Other summary functions: <code><a href='summ_center.html'>summ_center</a></code>,
  <code><a href='summ_distance.html'>summ_distance</a></code>, <code><a href='summ_entropy.html'>summ_entropy</a></code>,
  <code><a href='summ_hdr.html'>summ_hdr</a></code>, <code><a href='summ_interval.html'>summ_interval</a></code>,
  <code><a href='summ_moment.html'>summ_moment</a></code>, <code><a href='summ_order.html'>summ_order</a></code>,
  <code><a href='summ_prob_true.html'>summ_prob_true</a></code>, <code><a href='summ_pval.html'>summ_pval</a></code>,
  <code><a href='summ_quantile.html'>summ_quantile</a></code>, <code><a href='summ_roc.html'>summ_roc</a></code>,
  <code><a href='summ_separation.html'>summ_separation</a></code>, <code><a href='summ_spread.html'>summ_spread</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><code class = "r"><div class='input'><span class='no'>d_unif</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='as-pdqr.html'>as_d</a></span>(<span class='no'>dunif</span>)
<span class='no'>d_norm</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='as-pdqr.html'>as_d</a></span>(<span class='no'>dnorm</span>)
<span class='no'>t_vec</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>0.5</span>, <span class='fl'>0.75</span>, <span class='fl'>1.5</span>)

<span class='fu'>summ_classmetric</span>(<span class='no'>d_unif</span>, <span class='no'>d_norm</span>, <span class='kw'>threshold</span> <span class='kw'>=</span> <span class='no'>t_vec</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"F1"</span>)</div><div class='output co'>#&gt; [1] 0.4000000 0.3412008 0.3069521 0.1252455</div><div class='input'><span class='fu'>summ_classmetric</span>(<span class='no'>d_unif</span>, <span class='no'>d_norm</span>, <span class='kw'>threshold</span> <span class='kw'>=</span> <span class='no'>t_vec</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"Acc"</span>)</div><div class='output co'>#&gt; [1] 0.2500000 0.4042686 0.4883134 0.5334032</div><div class='input'>
<span class='fu'>summ_classmetric_df</span>(
  <span class='no'>d_unif</span>, <span class='no'>d_norm</span>, <span class='kw'>threshold</span> <span class='kw'>=</span> <span class='no'>t_vec</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"F1"</span>, <span class='st'>"Acc"</span>)
)</div><div class='output co'>#&gt;   threshold        F1       Acc
#&gt; 1      0.00 0.4000000 0.2500000
#&gt; 2      0.50 0.3412008 0.4042686
#&gt; 3      0.75 0.3069521 0.4883134
#&gt; 4      1.50 0.1252455 0.5334032</div><div class='input'>
<span class='co'># Using method aliases</span>
<span class='fu'>summ_classmetric_df</span>(
  <span class='no'>d_unif</span>, <span class='no'>d_norm</span>, <span class='kw'>threshold</span> <span class='kw'>=</span> <span class='no'>t_vec</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"TPR"</span>, <span class='st'>"sensitivity"</span>)
)</div><div class='output co'>#&gt;   threshold        TPR sensitivity
#&gt; 1      0.00 0.50000000  0.50000000
#&gt; 2      0.50 0.30853717  0.30853717
#&gt; 3      0.75 0.22662682  0.22662682
#&gt; 4      1.50 0.06680635  0.06680635</div><div class='input'>
</div></code></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Evgeni Chasnovski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9100.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


